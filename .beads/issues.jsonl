{"id":"lmdb-kt-5se","title":"Fix ByteArray.compareWith prefix crash","description":"ByteArray.compareWith throws NoSuchElementException when arrays are equal over zipped length (one array is a prefix of the other), because first{...} has no match.","acceptance_criteria":"- Comparing [1,2,3] vs [1,2,3,4] returns deterministic ordering without exception\n- Existing compareWith behavior for equal and clearly different arrays remains correct\n- Tests cover prefix-equal arrays in both directions","notes":"Starting implementation on dedicated branch.","status":"in_progress","priority":0,"issue_type":"bug","created_at":"2026-02-18T09:24:23.885155245Z","updated_at":"2026-02-18T09:25:36.164104713Z","labels":["code-review","correctness"]}
{"id":"lmdb-kt-79m","title":"Handle branch lookup when key is below first branch key","description":"BranchPage.get uses last{ predicate } and throws when no branch key satisfies compareWith(key) \u003c 0 (e.g., lookup key smaller than all keys).","acceptance_criteria":"- BranchPage.get no longer throws NoSuchElementException for below-minimum keys\n- Lookup behavior chooses correct child page per LMDB branch semantics\n- Regression test added","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-18T09:24:23.888919023Z","updated_at":"2026-02-18T09:24:23.888919023Z","labels":["code-review","correctness"]}
{"id":"lmdb-kt-b0s","title":"Prevent position overflow in DbMappedBuffer offsets","description":"DbMappedBuffer computes page offsets with UInt multiplication then toInt conversion, which can overflow for larger DB files and lead to invalid positions.","acceptance_criteria":"- Offset calculations guard against overflow or use safe wider arithmetic\n- Clear exception is thrown for out-of-range addresses instead of silent wrap\n- Existing behavior for small databases unchanged","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-18T09:24:23.888060871Z","updated_at":"2026-02-18T09:24:23.888060871Z","labels":["code-review","correctness"]}
{"id":"lmdb-kt-rtz","title":"Replace assert for runtime validation in Environment","description":"Critical runtime validation in Environment init uses assert(...), which can be disabled in production and permit unsupported modes or invalid files.","acceptance_criteria":"- Unsupported options and invalid path/data validation use always-on checks (require/check)\n- Error messages remain meaningful\n- Tests cover representative invalid-input paths","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-18T09:24:23.889575299Z","updated_at":"2026-02-18T09:24:23.889575299Z","labels":["code-review","safety"]}
{"id":"lmdb-kt-yp3","title":"Close FileChannel if Environment init fails","description":"Environment opens data file channel during init, but exceptions during metadata detection/validation can bypass close(), leaking file handles.","acceptance_criteria":"- FileChannel is closed on init failure paths\n- Normal successful initialization remains unchanged\n- Failure-path test verifies no descriptor leak-prone behavior","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-18T09:24:23.891848893Z","updated_at":"2026-02-18T09:24:23.891848893Z","labels":["code-review","reliability"]}
